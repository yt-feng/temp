<!-- 背景贴图 -->
<!-- 替换链接即可，可以把链接放在data中 -->
<view  hidden="{{!loading}}" style="display:flex;justify-content: space-between;width: 30%;align-content: center;position: absolute;left: 40%;top: 30%;">
  <view class="loader"  hidden="{{!loading}}"></view>
  <view style="text-align: center;font-size: 30px;line-height: 30px;height: 30px;margin-top: 18px;font-weight: bold;margin-left: 5px;"  hidden="{{!loading}}">
    Loading
  </view>
</view>

<view hidden="{{loading}}">
  <video class="background" src="{{mapl[map]}}" autoplay loop bindplay="playing"></video>
  <!-- 人物贴图 -->


  <view class="decrate" style="display: flex;height: 300px;justify-content: center;width: 44%;left: 28%;position: absolute;height: 60%;bottom: 0%;">
    <view style="width: 220px;height: 220px;margin-right:-70rpx;">
      <image src="{{teacherim[(teacher-1)][imindex]}}" style="width: 100%;position: relative;"></image>
    </view>
    <view style="width: 220px;height: 220px;margin-left:-60rpx;">
      <image src="{{meim[(me-1)][imindex]}}" style="width: 100%;"></image>
    </view>
  </view>

  <view class="top_text_box" hidden="{{!visable}}">
    <view wx:for="{{top_text}}" wx:key="{{item.id}}" class="top_text">
      {{item}}{{index==2?"...":","}}
    </view>
  </view>
  <!-- <view style="position: absolute; display: flex;background-color: #d1d1d1;border-radius: 10px;width: 20%;margin-left: 5%;right: 18%;top: 2%;height: 40px;opacity: 0.8;"> -->
    <view style="position: absolute; display: flex;border-radius: 10px;width: 20%;margin-left: 5%;right: 18%;top: 2%;height: 40px;">
      <view style="position: relative;z-index: 9999999;">
      <view class="btn" bindtap="showtipfun">
      ?
    </view> 
    </view>
    <image src="https://mp-e5245a2d-e568-43d9-8bc9-6ace734752d4.cdn.bspapp.com/cloudstorage/c43f56cf-4b2f-4ea8-833b-901c1677eee6.svg" style="width: 30rpx;height: 30rpx;align-self: center;"></image>
    <view style="font-size: 20rpx;align-self: center;font-weight: bold; color: rgb(0, 0, 0)">{{points}}</view>
  </view>



  <view class="container">
    <!-- 按钮组件 -->
    <!-- <view class="left-but">
      <image class="repi" bindtap="replay" src="{{url[0]}}">
      </image>
      <image class="pause" wx-if="{{!pause}}" bindtap="pause" src="{{url[1]}}">
      </image>
      <image class="continue" wx-if="{{!play}}" bindtap="play" src="{{url[2]}}">
      </image>
    </view> -->
    <view style="width: 350rpx;height: 200rpx;font-size: 12rpx;margin-top: -100rpx;background-color: #fff;opacity: 0.8;position: relative; z-index: 99999;"wx:if="{{showtip}}">
    <text>  ️① 超级旅伴正在快速思考，请耐心等待一下哦！\n
② 像和朋友聊天一样，去对话吧！想换中文，就说“请用中文对话，没关系的！ ”， \n
③ 准备好踏上世界知识之旅了吗？去探索，去对话新世界吧！ \n
④今日说话次数已达{{chatCountcount}}</text>
<view style="height: 30rpx;line-height: 30rpx;margin-bottom: 10rpx;"  bindtap="showtipfun">
  <button style="border-radius: 9999999;height: 30px;line-height: 30px;border: none;text-align: center;background-color:rgb #aaaaaa;color: black; border: 1px solid #aaaaaa;margin-bottom: 20rpx;" ><text style="margin-left: 20rpx;">确认</text></button>
</view>

    </view>
   
  
    <view class="right-but" bindlongpress="startRecord" bindtouchend="stopRecord">
      <view style="position: absolute; width: 130rpx;height: 130rpx;z-index: 99999999;"></view>
      <image src="{{url[3]}}" style="width: 130rpx;height: 130rpx;" wx-if="{{!speeching}}"></image>
      <image src="{{url[4]}}" style="width: 128rpx;height: 128rpx;" wx-if="{{speeching}}"></image>
    </view>

  </view>
  <!-- 消息 -->
  <view class="right-message" style="font-family: Helvetica Neue, Helvetica, Arial, sans-serif;" hidden="{{!rightshow|thinking}}">
    <view style="display: block;font-size:14px ;height: 100rpx;word-wrap:break-word;word-break:normal;">
      <scroll-view scroll-y="true" style="height: 90rpx;">
        <text style=" display: block;white-space: normal;line-height: 20rpx ;">{{teachermsg}}</text>
      </scroll-view>
    </view>
  </view>
  <!-- <view class="right-message" hidden="{{!rightshow|thinking}}">
    <view style="position: relative;display: inline-block;word-break:keep-all;max-width:155px;min-width: 40px;max-height: 115rpx;overflow-y: auto;z-index: 1;margin-top: 15px;margin-right: 20px;font-family: Helvetica Neue, Helvetica, Arial, sans-serif;word-wrap:break-word;word-break:normal; ">
      {{teachermsg}}
    </view>
    <image src="../../images/white-right.png" style="position:absolute;width: 190rpx;height: 180rpx;top: -10px;right: 35rpx;"></image>
  </view> -->

  <!-- <view class="left-message" hidden="{{!leftshow}}"> -->
  <!-- <view class="left-message"> -->
  <!-- <view style="position: relative; display: inline-block;word-break:keep-all;max-width:155px;min-width: 40px;max-height: 90rpx;overflow-y: auto;z-index: 1;margin-top: 15px;margin-left: 20px;font-family: Helvetica Neue, Helvetica, Arial, sans-serif;word-wrap:break-word;word-break:normal;"></view>
    <image src="../../images/white-left.png" style="position:absolute;width:190px;height: 180rpx;left: 0%;top: -10px;"></image>
  </view> -->
  <!-- <view class="left-message" hidden="{{!leftshow}}">
    <view style="position: relative; display: inline-block;word-break:keep-all;max-width:155px;min-width: 40px;max-height: 45px;overflow-y: auto;z-index: 1;margin-top: 15px;margin-left: 20px;font-family: Helvetica Neue, Helvetica, Arial, sans-serif;">{{srResult}}</view>
    <image src="../../images/white-left.png" style="position:absolute;width:190px;height: 180rpx;left: 0%;top: -10px;"></image>
  </view> -->
  <view class="left-message" style="font-family: Helvetica Neue, Helvetica, Arial, sans-serif;"  hidden="{{!leftshow}}">
    <view style="display: block;font-size:14px ;min-height: 100rpx;max-height: 105rpx;max-width: 280rpx;word-wrap:break-word;word-break:normal;">
      <scroll-view scroll-y="true" style="height: 90rpx;">
        <text style=" display: block;white-space: normal;line-height: 20rpx ;">{{srResult}}</text>
      </scroll-view>

      <!-- <text style=" display: block;white-space: normal;margin-left:30rpx;line-height: 20rpx ;">{{srResult}}</text>-->
    </view>
  </view>
  <view class="thinkingicon " hidden="{{!thinking}}">
    <!-- <view class="right-message"> -->
    <view style="position: relative;display: inline-block;word-break:keep-all;max-width:155px;min-width: 40px;max-height: 50px;overflow-y: auto;z-index: 1;margin-top: 15px;margin-right: 20px;font-family: Helvetica Neue, Helvetica, Arial, sans-serif;right: -100px;top: -20px;word-wrap:break-word;word-break:normal;">
      <!-- <view style="width: 60rpx;">thinking</view>
      <view class="newtons-cradle" style="height: 20px;width: 20px;right: 10px;">
        <view class="newtons-cradle__dot"></view>
        <view class="newtons-cradle__dot"></view>
        <view class="newtons-cradle__dot"></view>
        <view class="newtons-cradle__dot"></view>
      </view> -->
      <view class="otherloader">
        <view class="dot dot-1"></view>
        <view class="dot dot-2"></view>
        <view class="dot dot-3"></view>
        <view class="dot dot-4"></view>
        <view class="dot dot-5"></view>
      </view>
    </view>

    <!-- <image src="../../images/l.png" style="position:absolute;width: 85rpx;height: 55rpx;top: -10px;right: 30px;"></image> -->
  </view>

  <!-- <view class="left-message" hidden="{{!Identifying}}">
    <view style="position: relative; display: inline-block;word-break:keep-all;max-width:155px;min-width: 40px;max-height: 45px;overflow-y: auto;z-index: 1;margin-top: 15px;margin-left: 20px;font-family: Helvetica Neue, Helvetica, Arial, sans-serif;">
      <view style="width: 80px;">Identifying</view>
      <view class="newtons-cradle" style="height: 20px;width: 20px;left: 10px;">
        <view class="newtons-cradle__dot"></view>
        <view class="newtons-cradle__dot"></view>
        <view class="newtons-cradle__dot"></view>
        <view class="newtons-cradle__dot"></view>
      </view>
    </view>
    <image src="../../images/r.png" style="position:absolute;width:85px;height: 50px;left: 0%;top: 6px;"></image>


  </view>

</view> -->
  <view class="left-message" hidden="{{!Identifying}}">
    <view style="position: relative; display: inline-block;word-break:keep-all;max-width:155px;min-width: 40px;max-height: 45px;overflow-y: auto;z-index: 1;margin-top: 15px;margin-left: 20px;font-family: Helvetica Neue, Helvetica, Arial, sans-serif;">
      <view style="width: 80px;">Identifying</view>
      <view class="newtons-cradle" style="height: 20px;width: 20px;left: 10px;">
        <view class="newtons-cradle__dot"></view>
        <view class="newtons-cradle__dot"></view>
        <view class="newtons-cradle__dot"></view>
        <view class="newtons-cradle__dot"></view>
      </view>
    </view>
    <!-- <image src="../../images/r.png" style="position:absolute;width:85px;height: 50px;left: 0%;top: 6px;"></image> -->


  </view>

</view>
<view class="voice" wx:if="{{othersrStart}}">
	<view class="bgc"></view>
	<view class="acoustic reception">
		<view class="five"></view>
		<view class="four"></view>
		<view class="three"></view>
		<!-- <view class="two"></view>
		<view class="one"></view> -->
	</view>
</view>

<view style="height: 50px;width: 60px;top: 1%;left: -1%; position: absolute;" bindtap="back">
  <image src="https://mp-e5245a2d-e568-43d9-8bc9-6ace734752d4.cdn.bspapp.com/cloudstorage/b1d57aea-0007-4271-afd9-90222db97e7a.png" style="width: 60px;height: 50px;"></image>
</view>